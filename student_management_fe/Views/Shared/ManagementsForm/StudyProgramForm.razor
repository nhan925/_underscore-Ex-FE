@using Microsoft.Extensions.Localization
@using student_management_fe.Resources

<RadzenTemplateForm TItem="StudyProgram" Data="@StudyProgram" Submit="@Submit">
    <RadzenStack>
        <RadzenColumn>
            <RadzenText Text=@_localizer["study_program_form_name_label"] />
        </RadzenColumn>

        <RadzenColumn>
            <RadzenTextBox Style="width: 100%" Name="Name" @bind-Value="StudyProgram.Name" />
            <RadzenDataAnnotationValidator Component="Name" Popup=@popup Style="position: relative"/>
        </RadzenColumn>

        <RadzenColumn>
            <RadzenStack Orientation="Radzen.Orientation.Horizontal" JustifyContent="JustifyContent.Center" Gap="1rem" class="rz-mt-8 rz-mb-4">
                <RadzenButton ButtonStyle="ButtonStyle.Light" style="width: 100%" Text=@_localizer["all_actions_cancel_button_text"] Click="Cancel" />
                <RadzenButton style="width: 100%" Text=@_localizer["all_actions_save_button_text"] ButtonStyle="ButtonStyle.Success" Type="Submit" />
            </RadzenStack>
        </RadzenColumn>
    </RadzenStack>
</RadzenTemplateForm>

@code {
    
    [Inject] private Radzen.DialogService DialogService { get; set; }
    [Inject] private IStringLocalizer<Content> _localizer { get; set; }

    [Parameter] public StudyProgram StudyProgram { get; set; }

	bool popup = false;

    private void Submit() => DialogService.Close(true);
    private void Cancel() => DialogService.Close(false);
}
