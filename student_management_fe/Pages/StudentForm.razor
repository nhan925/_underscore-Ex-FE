@using student_management_fe.Models

<h2 style="text-align: center;">@Title</h2>


<div class="form-container">
    <div class="form">
        @if (IsUpdateMode)
        {
            <div class="form-group">
                <label>MSSV:</label>
                <input type="number" @bind="Student.StudentId" disabled />
            </div>
        }

        <div class="form-group">
            <label>Họ và tên:</label>
            <div class="form-input">
                <input type="text" @bind="Student.FullName"
                                   @onblur="() => ValidateField(nameof(Student.FullName), Student.FullName)" />
                <span class="error">@ValidationErrors.GetValueOrDefault(nameof(Student.FullName))</span>
            </div>
        </div>

        <div class="form-group">
            <label>Ngày sinh:</label>
            <div class="form-input">
                <input type="date" @bind="Student.BirthDate"
                                   @onblur="() => ValidateField(nameof(Student.BirthDate), Student.BirthDate)" />
                <span class="error">@ValidationErrors.GetValueOrDefault(nameof(Student.BirthDate))</span>
            </div>
        </div>

        <div class="form-group">
            <label>Giới tính:</label>
            <div class="form-input">
                <select @bind="Student.Gender">
                    <option value="Nam">Nam</option>
                    <option value="Nữ">Nữ</option>
                    <option value="Khác">Khác</option>
                </select>
                <span class="error">@ValidationErrors.GetValueOrDefault(nameof(Student.Gender))</span>
            </div>
        </div>

        <div class="form-group">
            <label>Khoa:</label>
            <div class="form-input">
                <select @bind="Student.FacultyId">
                    <option value=1>Công nghệ thông tin</option>
                    <option value=2>Kinh tế</option>
                    <option value=3>Quản trị kinh doanh</option>
                    <option value=4>Kỹ thuật điện tử</option>
                </select>
                <span class="error">@ValidationErrors.GetValueOrDefault(nameof(Student.FacultyId))</span>
            </div>
        </div>

        <div class="form-group">
            <label>Khóa:</label>
            <div class="form-input">
                <input type="number" @bind="Student.IntakeYear"
                                     @onblur="() => ValidateField(nameof(Student.IntakeYear), Student.IntakeYear)" /> 
                <span class="error">@ValidationErrors.GetValueOrDefault(nameof(Student.IntakeYear))</span>
            </div>
        </div>

        <div class="form-group">
            <label>Chương trình:</label>
            <div class="form-input">
                <input type="text" @bind="Student.Program"
                                   @onblur="() => ValidateField(nameof(Student.Program), Student.Program)" />
                <span class="error">@ValidationErrors.GetValueOrDefault(nameof(Student.Program))</span>
            </div>
        </div>

        <div class="form-group">
            <label>Địa chỉ:</label>
            <div class="form-input">
                <input type="text" @bind="Student.Address"
                                   @onblur="() => ValidateField(nameof(Student.Address), Student.Address)" />
                <span class="error">@ValidationErrors.GetValueOrDefault(nameof(Student.Address))</span>
            </div>
        </div>

        <div class="form-group">
            <label>Email:</label>
            <div class="form-input">
                <input type="email" @bind="Student.Email"
                                    @onblur="() => ValidateField(nameof(Student.Email), Student.Email)" />
                <span class="error">@ValidationErrors.GetValueOrDefault(nameof(Student.Email))</span>
            </div>
        </div>

        <div class="form-group">
            <label>Số điện thoại:</label>
            <div class="form-input">
                <input type="tel" @bind="Student.PhoneNumber"
                                  @onblur="() => ValidateField(nameof(Student.PhoneNumber), Student.PhoneNumber)" />
                <span class="error">@ValidationErrors.GetValueOrDefault(nameof(Student.PhoneNumber))</span>
            </div>
        </div>

        <div class="form-group">
            <label>Tình trạng sinh viên:</label>
            <div class="form-input">
                <select @bind="Student.StatusId">
                    <option value=1>Đang học</option>
                    <option value=2>Tốt nghiệp</option>
                    <option value=3>Bảo lưu</option>
                </select>
                <span class="error">@ValidationErrors.GetValueOrDefault(nameof(Student.StatusId))</span>
            </div>
        </div>

        <div style="text-align: center;">
            <button class="btn btn-success" @onclick="ValidateAndSave" disabled="@IsSaving">
                @if (IsSaving)
                {
                    <span>Đang lưu...</span>
                }
                else
                {
                    <span>@SaveButtonText</span>
                }
            </button>
            <button class="btn btn-danger" @onclick="CloseOverlay">Đóng</button>
        </div>
    </div>
</div>




<style>

    .form-group {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 10px;
    }

        .form-group label {
            width: 200px; /* Độ rộng cố định cho nhãn */
            font-weight: bold;
            margin-right: 10px;
            text-align: left; /* Căn phải cho nhãn */
        }

        .form-group input,
        .form-group select {
            flex: 1; /* Input mở rộng để vừa với container */
            padding: 8px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
            max-width: 400px; /* Giới hạn độ rộng input */
        }

        .form-input{
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }

    .error {
        color: red;
        font-size: 14px;
        margin-top: 5px;
    }

    .form-container {
        display: flex;
        justify-content: center; /* Căn giữa theo chiều ngang */
        width: 100%;
    }

    .form {
        width: 50%; /* Điều chỉnh độ rộng form */
        max-width: 600px; /* Giới hạn chiều rộng tối đa */
        background: #fff; /* Đặt nền trắng */
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
    }

    .btn {
        margin-top: 10px;
        padding: 8px 12px;
        border: none;
        cursor: pointer;
    }
</style>
