@using student_management_fe.Models

<h2 style="text-align: center;">@Title</h2>

<div class="form-container">
    <div class="form">
        @if (IsUpdateMode)
        {
            <div class="form-group">
                <label>MSSV:</label>
                <input type="text" @bind="Student.StudentId" disabled />
            </div>
        }

        <div class="form-group">
            <label>Họ và tên:</label>
            <input type="text" @bind="Student.FullName" />
        </div>

        <div class="form-group">
            <label>Ngày sinh:</label>
            <input type="date" @bind="Student.BirthDate" />
        </div>

        <div class="form-group">
            <label>Giới tính:</label>
            <select @bind="Student.Gender">
                <option value="Nam">Nam</option>
                <option value="Nữ">Nữ</option>
                <option value="Khác">Khác</option>
            </select>
        </div>

        <div class="form-group">
            <label>Khoa:</label>
            <select @bind="Student.Faculty">
                <option value="CNTT">Công nghệ thông tin</option>
                <option value="KT">Kinh tế</option>
                <option value="QTKD">Quản trị kinh doanh</option>
                <option value="KTĐT">Kỹ thuật điện tử</option>
            </select>
        </div>

        <div class="form-group">
            <label>Khóa:</label>
            <input type="text" @bind="Student.IntakeYear" />
        </div>

        <div class="form-group">
            <label>Chương trình:</label>
            <input type="text" @bind="Student.Program" />
        </div>

        <div class="form-group">
            <label>Địa chỉ:</label>
            <input type="text" @bind="Student.Address" />
        </div>

        <div class="form-group">
            <label>Email:</label>
            <input type="email" @bind="Student.Email" />
        </div>

        <div class="form-group">
            <label>Số điện thoại:</label>
            <input type="tel" @bind="Student.PhoneNumber" />
        </div>

        <div class="form-group">
            <label>Tình trạng sinh viên:</label>
            <select @bind="Student.Status">
                <option value="Đang học">Đang học</option>
                <option value="Tốt nghiệp">Tốt nghiệp</option>
                <option value="Bảo lưu">Bảo lưu</option>
            </select>
        </div>

        <div style="text-align: center;">
            <button class="btn btn-success" @onclick="OnSave">@SaveButtonText</button>
            <button class="btn btn-danger" @onclick="CloseOverlay">Đóng</button>
        </div>
    </div>
</div>


<style>

    .form-group {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 10px;
    }

        .form-group label {
            width: 200px; /* Độ rộng cố định cho nhãn */
            font-weight: bold;
            margin-right: 10px;
            text-align: left; /* Căn phải cho nhãn */
        }

        .form-group input,
        .form-group select {
            flex: 1; /* Input mở rộng để vừa với container */
            padding: 8px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
            max-width: 400px; /* Giới hạn độ rộng input */
        }

    .form-container {
        display: flex;
        justify-content: center; /* Căn giữa theo chiều ngang */
        width: 100%;
    }

    .form {
        width: 50%; /* Điều chỉnh độ rộng form */
        max-width: 600px; /* Giới hạn chiều rộng tối đa */
        background: #fff; /* Đặt nền trắng */
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
    }

    .btn {
        margin-top: 10px;
        padding: 8px 12px;
        border: none;
        cursor: pointer;
    }
</style>

@code {
    [Parameter] public StudentModel Student { get; set; }
    [Parameter] public EventCallback OnSave { get; set; }
    [Parameter] public string Title { get; set; } = "Thêm sinh viên";
    [Parameter] public string SaveButtonText { get; set; } = "Lưu";
    [Parameter] public bool IsUpdateMode { get; set; } = false;

    [Inject] private NavigationManager Navigation { get; set; }
    private void CloseOverlay()
    {
        Navigation.NavigateTo("/", forceLoad: false);
    }
}
