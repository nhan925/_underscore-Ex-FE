@page "/add_student"

<div class="overlay">
    <div class="popup">
        <h2>Thêm sinh viên</h2>

        <div class="form-group">
            <label>MSSV:</label>
            <input type="text" @bind="Student.StudentId" />
        </div>

        <div class="form-group">
            <label>Họ và tên:</label>
            <input type="text" @bind="Student.FullName" />
        </div>

        <div class="form-group">
            <label>Ngày/tháng/năm sinh:</label>
            <input type="date" @bind="Student.BirthDate" />
        </div>

        <div class="form-group">
            <label>Giới tính:</label>
            <select @bind="Student.Gender">
                <option value="Nam">Nam</option>
                <option value="Nữ">Nữ</option>
                <option value="Khác">Khác</option>
            </select>
        </div>

        <div class="form-group">
            <label>Khoa:</label>
            <select @bind="Student.Faculty">
                <option value="CNTT">Công nghệ thông tin</option>
                <option value="KT">Kinh tế</option>
                <option value="QTKD">Quản trị kinh doanh</option>
                <option value="KTĐT">Kỹ thuật điện tử</option>
            </select>
        </div>

        <div class="form-group">
            <label>Khóa:</label>
            <input type="text" @bind="Student.Course" />
        </div>

        <div class="form-group">
            <label>Chương trình:</label>
            <input type="text" @bind="Student.Program" />
        </div>

        <div class="form-group">
            <label>Địa chỉ:</label>
            <input type="text" @bind="Student.Address" />
        </div>

        <div class="form-group">
            <label>Email:</label>
            <input type="email" @bind="Student.Email" />
        </div>

        <div class="form-group">
            <label>Số điện thoại:</label>
            <input type="tel" @bind="Student.PhoneNumber" />
        </div>

        <div class="form-group">
            <label>Tình trạng sinh viên:</label>
            <select @bind="Student.Status">
                <option value="Đang học">Đang học</option>
                <option value="Tốt nghiệp">Tốt nghiệp</option>
                <option value="Bảo lưu">Bảo lưu</option>
            </select>
        </div>

        <button class="btn btn-success" @onclick="Add">Lưu</button>
        <button class="btn btn-danger" @onclick="CloseOverlay">Đóng</button>
    </div>
</div>

<style>

    .form-group {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 10px;
    }

    .form-group label {
        width: 200px; /* Độ rộng cố định cho nhãn */
        font-weight: bold;
        margin-right: 10px;
        text-align: left; /* Căn phải cho nhãn */
    }

    .form-group input,
    .form-group select {
        flex: 1; /* Input mở rộng để vừa với container */
        padding: 8px;
        font-size: 16px;
        border: 1px solid #ccc;
        border-radius: 5px;
        max-width: 400px; /* Giới hạn độ rộng input */
    }

    .popup {
        width: 800px; /* Tăng chiều rộng popup */
        max-height: 80vh; /* Giới hạn chiều cao và thêm scroll */
        overflow-y: auto;
    }


    .btn {
        margin-top: 10px;
        padding: 8px 12px;
        border: none;
        cursor: pointer;
    }
</style>

@code {
    private StudentModel Student = new StudentModel();
    [Inject] private NavigationManager Navigation { get; set; }

    private void CloseOverlay()
    {
        Navigation.NavigateTo("/", forceLoad: false);
    }

    private void Add()
    {
        Console.WriteLine($"Thêm sinh viên: {Student.FullName} - {Student.StudentId}");
        CloseOverlay();
    }

    public class StudentModel
    {
        public string StudentId { get; set; }
        public string FullName { get; set; }
        public DateTime BirthDate { get; set; }
        public string Gender { get; set; }
        public string Faculty { get; set; }
        public string Course { get; set; }
        public string Program { get; set; }
        public string Address { get; set; }
        public string Email { get; set; }
        public string PhoneNumber { get; set; }
        public string Status { get; set; }
    }
}
